<!DOCTYPE html>
<html lang="en">
<head>
  <title>Manage Users | Nexus Res-Q</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="CSS/manage-users.css">
</head>
<body>
  <div class="users-header">
    <h1>Manage Users</h1>
    <button id="addUserBtn" class="primary-btn">+ Add User</button>
  </div>
  <main class="users-main">
    <div class="users-toolbar">
      <input type="search" id="userSearch" placeholder="Search users...">
      <select id="filterRole">
        <option value="all">All Roles</option>
        <option value="admin">Admins</option>
        <option value="user">Users</option>
        <!-- JS: add more roles if needed -->
      </select>
      <select id="filterArea">
        <option value="all">All Areas</option>
        <!-- JS: dynamically load areas -->
      </select>
      <select id="filterDept">
        <option value="all">All Departments</option>
        <!-- JS: dynamically load depts -->
      </select>
    </div>
    <div class="user-grid-container" id="user-list">
      <!-- JS: populate users here -->
    </div>
    <div id="noUsersMsg" class="empty-msg" style="display:none;">No users found.</div>
  </main>
  <!-- Add User Modal -->
  <div class="modal-backdrop" id="addUserModal" style="display:none;">
    <div class="modal-content">
      <h2>Add New User</h2>
      <form id="add-user-form">
        <input type="text" id="new-username" placeholder="Username" required>
        <input type="password" id="new-password" placeholder="Password" required>
        <select id="new-role">
          <option value="user">User</option>
          <option value="admin">Admin</option>
        </select>
        <select id="new-area">
          <option value="">Assign Area</option>
          <!-- JS: areas -->
        </select>
        <select id="new-dept">
          <option value="">Assign Department</option>
          <!-- JS: depts -->
        </select>
        <button type="submit" class="primary-btn">Add User</button>
        <button type="button" class="secondary-btn" id="cancelAddUser">Cancel</button>
      </form>
      <div id="add-user-message"></div>
    </div>
  </div>
  <!-- JS & Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="manage-users.js"></script>
</body>
</html>
