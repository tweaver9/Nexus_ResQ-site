<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Asset Management | Nexus Res-Q</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="CSS/nexus-modern.css">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="CSS/manage-assets.css">
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="header-container">
      <h1 class="site-title">Asset Management</h1>
      <a href="dashboard.html" class="back-nav">← Back to Dashboard</a>
    </div>
  </header>

  <!-- Client Selector (Nexus only) -->
  <div class="client-selector" id="client-selector" style="display: none;">
    <label style="color: var(--nexus-muted); font-size: 0.875rem; margin-bottom: 0.5rem; display: block;">Select Client to Manage:</label>
    <select class="client-dropdown" id="client-dropdown">
      <option value="">Select Client...</option>
    </select>
  </div>

  <!-- Summary Stats -->
  <section class="summary-stats">
    <div class="stat-card overdue">
      <div class="stat-number" id="overdue-count">0</div>
      <div class="stat-label">Assets Overdue</div>
    </div>
    <div class="stat-card due-soon">
      <div class="stat-number" id="due-soon-count">0</div>
      <div class="stat-label">Due Soon</div>
    </div>
    <div class="stat-card complete">
      <div class="stat-number" id="complete-count">0</div>
      <div class="stat-label">Assets Complete</div>
    </div>
  </section>

  <!-- Main Container -->
  <main class="main-container">
    <section class="user-group">
      <div class="group-header">
        <h2 class="group-title" id="section-title">Asset Types</h2>
        <span class="group-count" id="total-count">0</span>
        <button class="add-asset-btn" id="add-asset-btn-main">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12h14"/>
          </svg>
          Add Asset
        </button>
      </div>

      <!-- Asset Type Grid (Landing View) -->
      <div id="asset-type-grid" class="asset-type-grid"></div>

      <!-- Back Button (Hidden initially) -->
      <button id="back-to-types-btn" class="back-btn" style="display: none;">← Back to Asset Types</button>

      <!-- Search and Sort Bar (Hidden initially) -->
      <div id="search-sort-bar" class="search-sort-bar" style="display: none;">
        <input type="search" class="search-input" id="asset-search" placeholder="Search assets...">
        <select class="sort-select" id="asset-sort">
          <option value="id-asc">Asset ID (A-Z)</option>
          <option value="id-desc">Asset ID (Z-A)</option>
          <option value="status">Status</option>
          <option value="last-inspected">Last Inspected</option>
        </select>
      </div>

      <!-- Asset Grid (Hidden initially) -->
      <div id="asset-grid" class="asset-grid" style="display: none;"></div>

      <!-- Loading Spinner -->
      <div id="loading-spinner" class="loading-spinner" style="display: none;">
        Loading assets...
      </div>

      <!-- No Assets Message -->
      <div id="no-assets-msg" class="empty-group" style="display: none;">
        No assets found for this client.
      </div>
    </section>
  </main>

  <!-- Toast Area -->
  <div id="toast-area"></div>

  <!-- Asset Detail Modal -->
  <div class="modal-overlay" id="asset-detail-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Asset Details</h3>
        <button class="modal-close" id="asset-detail-close">×</button>
      </div>
      <div class="modal-content" id="asset-detail-content"></div>
    </div>
  </div>

  <!-- Add Asset Modal -->
  <div class="modal-overlay" id="add-asset-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Add New Asset</h3>
        <button class="modal-close" id="add-asset-modal-close">×</button>
      </div>
      <div class="modal-content" id="add-asset-modal-content"></div>
    </div>
  </div>



  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="manage-assets.js"></script>
  <script type="module" src="messaging-ui.js"></script>
</body>
</html> 